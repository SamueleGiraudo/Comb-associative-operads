%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Linear magmatic operads}
\label{sec:Magmatic_operads}

In this section, we equip the set of quotients of the linear magmatic
operad with a lattice structure. We also show the Grassmann formula
analog for this lattice.

\subsection{Lattice of linear magmatic quotients}

Throughout Section~\ref{sec:Magmatic_operads}, we fix a commutative field
$\K$. The \Def{linear magmatic operad}, written $\KMag$, is the free
linear operad over one binary generator. For each arity $n$, $\KMag(n)$
is the vector space with basis $\Mag(n)$, and the compositions of $\KMag$
extend by linearity the ones of $\Mag$.

We denote by $\IMag$ the set of operadic ideals of $\KMag$, and
\begin{equation} \label{equ:definition_of_QMag}
  \QMag =\Big\{\KMag/ I\mid I\in\IMag\Big\},
  \end{equation}
the set of quotients of the linear magmatic operad. Given two elements
$\Oca_1$ and $\Oca_2$ of $\QMag$, we denote by
$\text{hom}\left(\Oca_1,\Oca_2\right)$ the set of operads morphism from
$\Oca_1$ to $\Oca_2$.

\begin{Proposition} \label{prop:endomorphisms_of_magmatic_operads}
  The set $\emph{hom}\left(\Oca_1,\Oca_2\right)$ admits a vector space
  structure. Moreover, its dimension is equal to $0$ or $1$ and every
  nonzero morphism is surjective.
\end{Proposition}

\begin{proof}
  The operad $\Oca_1$ is spanned by the binary generator
  $[\Product]_{I_1}$, which is the class of the element
  $\Product\in\KMag$ in $\Oca_1$. Hence, a morphism
  $\varphi:\Oca_1\to\Oca_2$ is uniquely determined by
  $\varphi\left([\Product]_{I_1}\right)$. Moreover,
  $\varphi\left([\Product]_{I_1}\right)$ has arity $2$ in $\Oca_2$.
  Hence, $\varphi\left([\Product]_{I_1}\right)$ belongs to the line
  spanned by the binary generator of $\Oca_2$, that is there exists a
  scalar $\lambda\in\K$ such that $\varphi\left([\Product]_{I_1}\right)
  =\lambda[\Product]_{I_2}$. If there exists such a $\lambda$ different
  from zero, then for every nonzero scalar $\mu$, we have a well-defined
  operad morphism $\psi:\Oca_1\to\Oca_2$ satisfying
  $\psi([\Product]_{I_1}) =\mu[\Product]_{I_2}=
  \left(\mu/\lambda\right)\varphi([\Product]_{I_1})$. Hence,
  $\text{hom}\left(\Oca_1,\Oca_2\right)$ is either reduced to the zero
  morphism or it is in one-to-one correspondance with $\K$, which proves
  that $\text{hom}\left(\Oca_1,\Oca_2\right)$ is a vector space of
  dimension at most $1$. Moreover, if $\varphi$ is different from $0$,
  that is there is a nonzero scalar such that $\varphi([\Product]_{I_1})
  =\lambda[\Product]_{I_2}$, we have $\varphi(1/\lambda[\Product]_{I_1})
  =[\Product]_{I_2}$, so that $\varphi$ is surjective.
\end{proof}

We introduce the binary relation $\OrdQMag$ on $\QMag$ as follows: we
have $\Oca_2\OrdQMag\Oca_1$ if the dimension of
$\text{hom}\left(\Oca_1,\Oca_2\right)$ is equal to $1$.

\begin{Proposition} \label{prop:order_relations_on_QMag_and_ideals}
  Let $\Oca_1=\KMag/I_1$ and $\Oca_2=\KMag/I_2$ be two elements of
  $\QMag$.   We have $\Oca_2\OrdQMag\Oca_1$ if and only if
  $I_1\subseteq I_2$.
\end{Proposition}

\begin{proof}
  Since $\text{hom}\left(\Oca_1,\Oca_2\right)$ is a vector space of
  dimension at most $1$, it contains a nonzero morphism if and only if
  the morphism $\overline{\varphi}:\Oca_1\to\Oca_2$ satisfying
  $\overline{\varphi}([\Product]_{I_1})=[\Product]_{I_2}$ is well
  -defined, which means that $\Oca_2\OrdQMag\Oca_1$ is equivalent to this
  condition. Moreover, by the universal property of the quotient,
  $\overline{\varphi}$ is well-defined if and only if $I_1$ is included
  in the kernel of the morphism $\varphi:\KMag\to\Oca_2$ defined by
  $\varphi(\Product)=[\Product]_{I_1}$. This kernel is equal to
  $I_2$, so that $\overline{\varphi}$ is well-defined if and only if
  $I_1$ is included in $I_2$, which concludes the proof.
\end{proof}

Recall that a \Def{lattice} is a tuple $\left(E,\leq,\wedge,\vee\right)$,
where $\left(E,\leq\right)$ is a poset such that any two elements $e$
and $e'$ of $E$ admit a lower-bound $e\wedge e'$ and an upper-bound
$e\vee e'$. In particular, $\left(\IMag,\subseteq,\cap,+\right)$ is a
lattice, where $\cap$ and $+$ are the intersection and the sum of
operadic ideals, respectively.

Given two elements $\Oca_1=\KMag/I_1$ and $\Oca_2=\KMag/I_2$ of $\QMag$,
we let
\begin{equation} \label{equ:definition_of_lattice_operations_of_QMag}
  \Oca_1\InfQMag \Oca_2=\KMag/\left(I_1+I_2\right)\ \ \text{and}\ \
  \Oca_1\SupQMag \Oca_2=\KMag/\left(I_1\cap I_2\right).
\end{equation}
Explicitely, for every integer $n$, $\left(\Oca_1\InfQMag\Oca_2\right)(n)$
(respectively, $\left(\Oca_1\SupQMag\Oca_2\right)(n)$) is the quotient of
vector spaces $\KMag(n)/\left(I_1(n)+I_2(n)\right)$ (respectively,
$\KMag(n)/\left(I_1(n)\cap I_2(n)\right)$).

\begin{Theorem} \label{thm:lattice_structure_of_QMag}
  The tuple $\LatQMag$ is a lattice.
\end{Theorem}

\begin{proof}
  The map $\mathcal{Q}:\IMag\to\QMag$ defined by $\mathcal{Q}(I)=\KMag/I$
  is a bijection by definition of $\QMag$. Moreover, from
  Proposition~\ref{prop:order_relations_on_QMag_and_ideals},
  $\Oca_2\OrdQMag\Oca_1$ is equivalent to $I_1\subseteq I_2$, so that
  $\left(\QMag,\OrdQMag\right)$ is a poset and $\mathcal{Q}$ is a
  decreasing bijection. The tuple $\left(\IMag,\subseteq,\cap,+\right)$
  being a lattice, the decreasing bijection $\mathcal{Q}$ induces
  lattice operations on $\QMag$, precisely $\InfQMag$ and $\SupQMag$ by
  definition.
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Hilbert series and linear magmatic quotients}

In order to show the Grassman formula analog for $\LatQMag$, we need the
following lemma.

\begin{Lemma} \label{lem:lattice_structure_and_coefficients_of_Hiblert_series}
  Let $\Oca_1$ and $\Oca_2$ be two elements of $\QMag$. For every integer
  $n$, we have
  \begin{equation} \label{equ:lattice_structure_and_coefficients_of_the_Hiblert_series}
    \dim{\left(\Oca_1\InfQMag\Oca_2(n)\right)}+
    \dim{\left(\Oca_1\SupQMag\Oca_2(n)\right)}=
    \dim{\left(\Oca_1(n)\right)}+\dim{\left(\Oca_2(n)\right)}.
  \end{equation}
\end{Lemma}

\begin{proof}
  Let $I_1$ and $I_2$ be the two operadic ideals of $\KMag$ such that
  $\Oca_1$ and $\Oca_2$ are equal to $\KMag/I_1$ and $\KMag/I_2$,
  respectively. For every integer $n$, we have
  \[\begin{split}
  &\dim{\left(\Oca_1\InfQMag\Oca_2(n)\right)}+
  \dim{\left(\Oca_1\SupQMag\Oca_2(n)\right)}\\
  &=\dim{\Big(\KMag(n)/\left(I_1+I_2\right)(n)\Big)}+
  \dim{\Big(\KMag(n)/\left(I_1\cap I_2\right)(n)\Big)}\\
  &=\dim{\left(\KMag(n)\right)}-\dim{\left(I_1(n)+I_2(n)\right)}
  +\dim{\left(\KMag(n)\right)}-\dim{\left(I_1(n)\cap I_2(n)\right)}\\
  &=\dim{\left(\KMag(n)\right)}-\dim{\left(I_1(n)\right)}+
  \dim{\left(\KMag(n)\right)}-\dim{\left(I_2(n)\right)}\\
  &=\dim{\Big(\KMag(n)/I_1(n)\Big)}+\dim{\Big(\KMag(n)/I_2(n)\Big)}\\
  &=\dim{\left(\Oca_1(n)\right)}+\dim{\left(\Oca_2(n)\right)}.
  \end{split}\]
  The third equality is due to the Grassmann formula applied to the
  subspaces $I_1(n)$ and $I_2(n)$ of $\KMag(n)$.
\end{proof}

The Grassman formula analog for $\LatQMag$ is given by the following
theorem.

\begin{Theorem} \label{thm:Grassmann_formula_for__Hilbert_series_of_QMag}
  Let $\Oca_1$ and $\Oca_2$ be two elements of $\QMag$. We have
  \begin{equation} \label{equ:lattice_structure_and_Hiblert_series}
    \HilbertSeries_{\Oca_1\InfQMag\Oca_2}(t)+\HilbertSeries_{\Oca_1\SupQMag\Oca_2}(t)=\HilbertSeries_{\Oca_1}(t)+\HilbertSeries_{\Oca_2}(t).
    \end{equation}
  \end{Theorem}

\begin{proof}
  We have
  \[\begin{split}
  \HilbertSeries_{\Oca_1\InfQMag\Oca_2}(t)+\HilbertSeries_{\Oca_1\SupQMag\Oca_2}(t)&=\sum_{n\in\N}\dim{\left(\Oca_1\InfQMag\Oca_2(n)\right)}t^n+\sum_{n\in\N}\dim{\left(\Oca_1\SupQMag\Oca_2(n)\right)}t^n\\
  &=\sum_{n\in\N}\Big(\dim{\left(\Oca_1\InfQMag\Oca_2(n)\right)}+\dim{\left(\Oca_1\SupQMag\Oca_2(n)\right)}\Big)t^n\\
  &=\sum_{n\in\N}\Big(\dim{\left(\Oca_1(n)\right)}+\dim{\left(\Oca_2(n)\right)}\Big)t^n\\
  &=\sum_{n\in\N}\dim{\left(\Oca_1(n)\right)}t^n+\sum_{n\in\N}\dim{\left(\Oca_2(n)\right)}t^n\\
  &=\HilbertSeries_{\Oca_1}(t)+\HilbertSeries_{\Oca_2}(t).
  \end{split}\]
\end{proof}
The third equality is due to Lemma~\ref{lem:lattice_structure_and_coefficients_of_Hiblert_series}.
% Hilbert series, enumeration, a little of rewrite systems, etc.

