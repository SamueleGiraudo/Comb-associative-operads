%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Linear quotients of the magmatic operad}
\label{sec:Magmatic_operads}
In this section, we equip the set of quotients of the linear magmatic
operad with a lattice structure. We also show a Grassmann formula
analog for this lattice.
\medbreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Lattice structure}
The \Def{linear magmatic operad}, written $\KMag$, is the free linear
operad over one binary generator. By definition, for each arity $n$,
$\KMag(n)$ is the vector space with basis $\Mag(n)$ and the
compositions maps of $\KMag$ are the extensions by linearity the ones
of~$\Mag$.
\medbreak

We denote by $\IMag$ the set of operadic ideals of $\KMag$ and we set
\begin{equation} \label{equ:definition_of_QMag}
    \QMag := \Big\{\KMag/_I :  I\in\IMag\Big\},
\end{equation}
as the set of the quotients of the linear magmatic operad. Given
$\KMag/_I \in \QMag$ and $x \in \KMag$, we denote by $[x]_I$ the
$I$-equivalence class of $x$. Observe that $\KMag/_I$ is generated as an
operad by $[\Product]_I$ (where, recall, $\Product$ is the binary
generator of $\Mag$ and thus also of $\KMag$). Moreover, given two
elements $\Oca_1$ and $\Oca_2$ of $\QMag$, we denote by
$\Hom\left(\Oca_1,\Oca_2\right)$ the set of linear operad morphisms from
$\Oca_1$ to~$\Oca_2$.
\medbreak

\begin{Proposition} \label{prop:endomorphisms_of_magmatic_operads}
    For any $\Oca_1, \Oca_2 \in \QMag$, the set
    $\Hom\left(\Oca_1,\Oca_2\right)$ admits a vector space structure.
    Moreover, its dimension is equal to $0$ or $1$ and every nonzero
    morphism is surjective.
\end{Proposition}
\begin{proof}
    Let $I_1, I_2 \in \IMag$ such that $\Oca_1 = \KMag/_{I_1}$ and
    $\Oca_2 = \KMag/_{I_2}$. Since $\Oca_1$ is generated by the binary
    element $[\Product]_{I_1}$, a morphism $\varphi:\Oca_1\to\Oca_2$ is
    uniquely determined by $\varphi\left([\Product]_{I_1}\right)$.
    Moreover, $\varphi\left([\Product]_{I_1}\right)$ has arity $2$ in
    $\Oca_2$. Hence, $\varphi\left([\Product]_{I_1}\right)$ belongs to
    the line spanned by the binary generator of $\Oca_2$, that is there
    exists a scalar $\lambda\in\K$ such that
    \begin{math}
        \varphi\left([\Product]_{I_1}\right)
        = \lambda[\Product]_{I_2}.
    \end{math}
    If there exists such a $\lambda$ different from zero, then for every
    nonzero scalar $\mu$, we have a well-defined operad morphism
    $\psi:\Oca_1\to\Oca_2$ satisfying
    \begin{math}
        \psi([\Product]_{I_1}) =\mu[\Product]_{I_2}
        = \left(\mu \lambda^{-1}\right)\varphi([\Product]_{I_1}).
    \end{math}
    Hence, $\Hom\left(\Oca_1,\Oca_2\right)$ is either reduced to the
    zero morphism or it is in one-to-one correspondence with $\K$, which
    proves that $\Hom\left(\Oca_1,\Oca_2\right)$ is a vector space of
    dimension at most $1$. Moreover, if $\varphi$ is different from $0$,
    that is there is a nonzero scalar such that
    \begin{math}
        \varphi\left([\Product]_{I_1}\right) = \lambda[\Product]_{I_2},
    \end{math}
    we have
    \begin{math}
        \varphi\left(\lambda^{-1}[\Product]_{I_1}\right)
        = [\Product]_{I_2},
    \end{math}
    so that $\varphi$ is surjective.
\end{proof}
\medbreak

We introduce the binary relation $\OrdQMag$ on $\QMag$ as follows: we
have $\Oca_2\OrdQMag\Oca_1$ if the dimension of
$\Hom\left(\Oca_1,\Oca_2\right)$ is equal to~$1$.
\medbreak

\begin{Proposition} \label{prop:order_relations_on_QMag_and_ideals}
    Let $\Oca_1=\KMag/_{I_1}$ and $\Oca_2=\KMag/_{I_2}$ be two operads
    of $\QMag$. We have $\Oca_2\OrdQMag\Oca_1$ if and only if
    $I_1\subseteq I_2$.
\end{Proposition}
\begin{proof}
    Since, by Proposition~\ref{prop:endomorphisms_of_magmatic_operads},
    $\Hom\left(\Oca_1,\Oca_2\right)$ is a vector space of
    dimension at most~$1$, it contains a nonzero morphism if and only if
    the morphism $\bar{\varphi}:\Oca_1\to\Oca_2$ satisfying
    \begin{math}
        \bar{\varphi}\left([\Product]_{I_1}\right) = [\Product]_{I_2}
    \end{math}
    is well-defined, which means that $\Oca_2\OrdQMag\Oca_1$ is
    equivalent to this condition. Moreover, by the universal property
    of the quotient, $\bar{\varphi}$ is well-defined if and only if
    $I_1$ is included in the kernel of the morphism
    $\varphi:\KMag\to\Oca_2$ defined by
    \begin{math}
        \varphi(\Product) = [\Product]_{I_2}.
    \end{math}
    This kernel is equal to $I_2$, so that $\bar{\varphi}$ is
    well-defined if and only if $I_1$ is included in $I_2$, which
    concludes the proof.
\end{proof}
\medbreak

Recall that a \Def{lattice} is a tuple
$\left(E,\leq,\wedge,\vee\right)$, where $\leq$ is a partial order
relation such that any two elements $e$ and $e'$ of $E$ admit a
lower-bound $e\wedge e'$ and an upper-bound $e\vee e'$. In particular,
$\left(\IMag,\subseteq,\cap,+\right)$ is a lattice, where $\cap$ and $+$
are the intersection and the sum of operadic ideals, respectively.
\medbreak

Given two operads $\Oca_1=\KMag/_{I_1}$ and $\Oca_2=\KMag/_{I_2}$ of
$\QMag$, let us define
\begin{equation} \label{equ:inf_QMag}
    \Oca_1\InfQMag \Oca_2 := \KMag/_{I_1+I_2}
\end{equation}
and
\begin{equation} \label{equ:sup_QMag}
    \Oca_1\SupQMag \Oca_2 := \KMag/_{I_1\cap I_2}.
\end{equation}
Explicitly, for every positive integer $n$,
$\left(\Oca_1\InfQMag\Oca_2\right)(n)$ (resp.
$\left(\Oca_1\SupQMag\Oca_2\right)(n)$) is the quotient vector space
$\KMag(n)/_{I_1(n)+I_2(n)}$ (resp.
$\KMag(n)/_{I_1(n)\cap I_2(n)}$).
\medbreak

\begin{Theorem} \label{thm:lattice_structure_of_QMag}
    The tuple $\LatQMag$ is a lattice.
\end{Theorem}
\begin{proof}
    First, we observe that the map $\Oca:\IMag\to\QMag$ defined by
    $\Oca(I) := \KMag/_I$ is a bijection: it is surjective by definition
    of $\QMag$ and it is injective since
    \begin{math}
        \Oca\left(I_1\right) = \Oca\left(I_2\right)
    \end{math}
    implies that the kernel of the natural projection
    \begin{math}
        \KMag\to\Oca\left(I_1\right) = \Oca\left(I_2\right)
    \end{math}
    is equal to both $I_1$ and $I_2$. Moreover, from
    Proposition~\ref{prop:order_relations_on_QMag_and_ideals},
    $\Oca_2\OrdQMag\Oca_1$ is equivalent to $I_1\subseteq I_2$, so that
    $\OrdQMag$ is a partial order relation on $\QMag$ and $\Oca$ is a
    decreasing bijection. The tuple
    $\left(\IMag,\subseteq,\cap,+\right)$ being a lattice, the
    decreasing bijection $\Oca$ induces lattice operations on $\QMag$,
    precisely $\InfQMag$ and $\SupQMag$ by definition.
\end{proof}
\medbreak

The union of the generating sets of two operadic ideals $I_1$ and $I_2$
is a generating set of $I_1+I_2$, so that the union of generating
relations for the two operads $\Oca_1$ and $\Oca_2$ of $\QMag$ forms a
generating set for the relations of $\Oca_1\InfQMag\Oca_2$. However, the
authors do not know how to compute a generating set of the intersection
of ideals (it is not the intersection of the generating relations), so
that we do not know how to compute generating relations
for~$\Oca_1\SupQMag\Oca_2$.
\medbreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Hilbert series and Grassmann formula}
The statement of the Grassmann formula analog for $\LatQMag$ is the
following.
\medbreak

\begin{Theorem}
    \label{thm:Grassmann_formula_for_Hilbert_series_of_QMag}
    Let $\Oca_1$ and $\Oca_2$ be two operads of $\QMag$. We have
    \begin{equation} \label{equ:lattice_structure_and_Hiblert_series}
        \HilbertSeries_{\Oca_1\InfQMag\Oca_2}(t)
        +\HilbertSeries_{\Oca_1\SupQMag\Oca_2}(t)
        =\HilbertSeries_{\Oca_1}(t)+\HilbertSeries_{\Oca_2}(t).
    \end{equation}
\end{Theorem}
\begin{proof}
  Let $I_1, I_2 \in \IMag$ be such that $\Oca_1 = \KMag/_{I_1}$ and
    $\Oca_2 = \KMag/_{I_2}$. For every positive integer $n$, we have
  \begin{equation}
    \label{equ:lattice_structure_and_coefficients_of_the_Hiblert_series}
        \dim{\left(\left(\Oca_1\InfQMag\Oca_2\right)(n)\right)}+
        \dim{\left(\left(\Oca_1\SupQMag\Oca_2\right)(n)\right)}=
        \dim{\left(\Oca_1(n)\right)}+\dim{\left(\Oca_2(n)\right)}.
  \end{equation}
  Indeed,
    \begin{equation}\begin{split}
        \dim & {\left(\Oca_1\InfQMag\Oca_2(n)\right)}+
            \dim{\left(\Oca_1\SupQMag\Oca_2(n)\right)}\\
        &=\dim{\Big(\KMag(n)/_{\left(I_1+I_2\right)(n)}\Big)}+
            \dim{\Big(\KMag(n)/_{\left(I_1\cap I_2\right)(n)}\Big)}\\
        &=\dim{\left(\KMag(n)\right)}-\dim{\left(I_1(n)+I_2(n)\right)}
            +\dim{\left(\KMag(n)\right)}
            -\dim{\left(I_1(n)\cap I_2(n)\right)} \\
        &=\dim{\left(\KMag(n)\right)}-\dim{\left(I_1(n)\right)}
            + \dim{\left(\KMag(n)\right)}-\dim{\left(I_2(n)\right)}\\
        &=\dim{\Big(\KMag(n)/_{I_1(n)}\Big)}
            +\dim{\Big(\KMag(n)/_{I_2(n)}\Big)}\\
        &=\dim{\left(\Oca_1(n)\right)}+\dim{\left(\Oca_2(n)\right)}.
    \end{split}\end{equation}
    The third equality is due to the Grassmann formula applied to the
    subspaces $I_1(n)$ and $I_2(n)$ of $\KMag(n)$.
    \smallbreak

    From
    \eqref{equ:lattice_structure_and_coefficients_of_the_Hiblert_series},
    and for every positive integer $n$, the terms of degree $n$ in the
    left and right members
    of~\eqref{thm:Grassmann_formula_for_Hilbert_series_of_QMag} are
    equal, which proves
    Theorem~\ref{thm:Grassmann_formula_for_Hilbert_series_of_QMag}.
\end{proof}
\medbreak

We terminate this section with an example illustrating the lattice
constructions on $\QMag$ in the case where the
characteristic of the field $\K$ is different from $2$. For that, we
introduce various operads, which requires the following notations, also
used in Section~\ref{sec:CAs_d}. Let, for any integer $\gamma \geq 1$,
the binary trees $\LComb{\gamma}$ and $\RComb{\gamma}$ be respectively
the left and the right combs of degree $\gamma$. These trees are depicted
as
\begin{equation}
    \LComb{\gamma} = \enspace
    \begin{tikzpicture}[xscale=.26,yscale=.3,Centering]
        \node(0)at(0.00,-5.25){};
        \node(2)at(2.00,-5.25){};
        \node(4)at(4.00,-3.50){};
        \node(6)at(6.00,-1.75){};
        \node[NodeST](1)at(1.00,-3.50){\begin{math}\Product\end{math}};
        \node[NodeST](3)at(3.00,-1.75){\begin{math}\Product\end{math}};
        \node[NodeST](5)at(5.00,0.00){\begin{math}\Product\end{math}};
        \draw[Edge](0)--(1);
        \draw[Edge,dotted](1)edge[]node[font=\tiny]{
            \begin{math}\gamma\! -\! 1\end{math}\hspace*{.6cm}}(3);
        \draw[Edge](2)--(1);
        \draw[Edge](3)--(5);
        \draw[Edge](4)--(3);
        \draw[Edge](6)--(5);
        \node(r)at(5.00,1.5){};
        \draw[Edge](r)--(5);
    \end{tikzpicture}
    \qquad \mbox{and} \qquad
    \RComb{\gamma} =
    \begin{tikzpicture}[xscale=.26,yscale=.3,Centering]
        \node(0)at(0.00,-1.75){};
        \node(2)at(2.00,-3.50){};
        \node(4)at(4.00,-5.25){};
        \node(6)at(6.00,-5.25){};
        \node[NodeST](1)at(1.00,0.00){\begin{math}\Product\end{math}};
        \node[NodeST](3)at(3.00,-1.75){\begin{math}\Product\end{math}};
        \node[NodeST](5)at(5.00,-3.50){\begin{math}\Product\end{math}};
        \draw[Edge](0)--(1);
        \draw[Edge](2)--(3);
        \draw[Edge](3)--(1);
        \draw[Edge](4)--(5);
        \draw[Edge,dotted](5)edge[]node[font=\tiny]{
            \hspace*{.6cm}\begin{math}\gamma\! -\! 1\end{math}}(3);
        \draw[Edge](6)--(5);
        \node(r)at(1.00,1.5){};
        \draw[Edge](r)--(1);
    \end{tikzpicture}\,,
\end{equation}
where the values on the dotted edges denote the number of internal
nodes they contain. 

We define the \Def{anti-associative operad} by
\begin{equation}
  \label{equ:anti-associative_operad}
  \AAs:=\KMag/_{\IAAs}
\end{equation}
where $\IAAs$ is the ideal spanned by
\begin{math}
  \LComb{2}+\RComb{2}
\end{math}.
\Todo{Illustrer avec la représentation graphique ?}
Using the Buchberger algorithm for operads~\cite[Section 3.7]{DK10}, we
check that the set of rewrite rules
\begin{equation}
  \label{equ:convergent_presentation_of_AAS}
  \left\{\LComb{2}\Rew -\RComb{2},\
  \RComb{3}\Rew 0
  \right\}
\end{equation}
is a convergent presentation of $\AAs$. We point out that this statement
is false if the characteristic of $\K$ is equal to $2$. Moreover, using
the convergent presentation~\eqref{equ:convergent_presentation_of_AAS},
we have
  \begin{equation}
    \label{equ:Hilbert_series_of_AAS}
    \HilbertSeries_{\AAs}(t)=t+t^2+t³.
    \end{equation}
\medbreak

We define the \Def{2-nihilpotente operad} by
\begin{equation}
  \label{equ:2-nihilpotente_operad}
  \NiHil:=\KMag/_{\INiHil}
  \end{equation}
where $\INiHil$ is the ideal spanned by the two trees $\LComb{3}$ and
$\RComb{3}$.
\Todo{Est-ce qu'il faut rajouter le 2 dans la macro désignant cette
  opérade ? De plus, Samuele,\\
  pourrais-tu rajouter la référence de Loday ?}
We easily check that we have
\begin{equation}
  \label{equ:Hilbert_series_of_NiHil}
  \HilbertSeries_{\NiHil}(t)=t+t^2.
\end{equation}
\Todo{Est-ce bien la bonne série ? Samuele, tu avais l'air de dire que
  c'était plutôt $t+2t^2$}

Finally, for every integer $\gamma\geq 2$, we define the
\Def{$\gamma$-right comb operad} $\RC{\gamma}$ as follows. For every
arity $n$, we let
\begin{equation}
  \label{equ:compositions_of_RC}
  \RC{\gamma}(n):=
    \begin{cases}
        \KMag(n) &
        \mbox{if } n \leq \gamma, \\
        \K\Angle{\RComb{n}}
            & \mbox{otherwise},
    \end{cases}
\end{equation}
and the partial composition $\Tfr_1 \circ_i \Tfr_2$ is the partial
composition of $\Tfr_1$ and $\Tfr_2$ in $\Mag$ if the integer
\begin{math}
  n:=|\Tfr_1|+|\Tfr_2| 
\end{math}
is smaller than or equal to $\gamma$, and $\RComb{n}$, otherwise.
Moreover, by definition of the $\gamma$-right comb operad, we have
\begin{equation}
  \label{equ:Hilbert_series_of_RC}
  \HilbertSeries_{\RC{\gamma}}(t)=\sum_{1\leq n\leq\gamma}\Catalan(n) t^n
  +\sum_{n\geq\gamma+1}t^n.
  \end{equation}
\medbreak

\begin{Lemma}
  \label{lem:presentation_of_RC}
  We have an isomorphism
  \begin{equation}
  \label{equ:presentation_of_RC}
  \RC{\gamma}\simeq\KMag/_{\IRCC{\gamma}}
  \end{equation}
  where $\IRCC{\gamma}$ is the ideal spanned by the elements
  $\Tfr-\RComb{\gamma}$, where $\Tfr$ runs over all the binary trees of
  arity $\gamma+1$. In other words, $\RC{\gamma}$ is a combinatorial
  realization of
  \begin{math}
    \KMag/_{\IRCC{\gamma}}.
    \end{math}
\end{Lemma}

\begin{proof}
  Let $R^{(\gamma)}$ be the set of rewrite rules
  $\Tfr\Rew\RComb{\gamma}$, where $\Tfr$ runs over all the binary trees
  of arity $\gamma+1$ different from $\RComb{\gamma}$. The unique normal
  form of arity $n\geq\gamma+1$ for  $R^{(\gamma)}$ is equal to
  $\RComb{n}$, so that $R^{(\gamma)}$ is a convergent presentation of
  \begin{math}
    \KMag/_{\IRC{\gamma}}.
  \end{math}
  Moreover, the normal forms of arity $n\leq\gamma$ are all the trees of
  arity $n$ and, by using the convergent presentation
  $R^{(\gamma)}$, we see that the compositions of
  \begin{math}
    \KMag/_{\IRC{\gamma}}
  \end{math}
  satisfy~\eqref{equ:compositions_of_RC}. Hence, $R^{(\gamma)}$ is also a
  convergent presentation of
  \begin{math}
    \RC{\gamma}
  \end{math}
  which proves Lemma~\ref{lem:presentation_of_RC}.
\end{proof}

\medbreak
The lower-bound and the upper-bound of $\As$ and $\AAs$ in the lattice
$\LatQMag$ are given by the following.
\begin{Theorem}
  \label{thm:example_lattice}
  We have
  \begin{equation}
    \label{equ:example_lower-bound}
    \KAs\InfQMag\AAs=\NiHil
  \end{equation}
  and
  \begin{equation}
    \label{equ:example_upper-bound}
    \KAs\SupQMag\AAs=\RC{3}.
    \end{equation}
  \end{Theorem}

\begin{proof}
  First, we show~\eqref{equ:example_lower-bound}. By definition of the
  lower-bound $\InfQMag$, the ideal of relations of
  $\KAs\InfQMag\AAs$ is spanned by the two elements
  $\LComb{3}-\RComb{3}$ and $\LComb{3}+\RComb{3}$. By linear
  transformations applied to these generators, the ideal of relations of
  $\KAs\InfQMag\AAs$ is spanned by $\LComb{3}$ and $\RComb{3}$,
  that is it is equal to $\INiHil$, which
  proves~\eqref{equ:example_lower-bound}.
  
\smallbreak
Now, we show~\eqref{equ:example_upper-bound}. We denote by
\begin{math}
  \pi:\KMag\to\RC{3}
\end{math}
the natural projection. Let $\Tfr$ be a tree of arity $3$. From
Lemma~\ref{lem:presentation_of_RC}, the kernel of $\pi$ is spanned by
the elements $\alpha_{\Tfr}:=\Tfr-\RComb{3}$, where $\Tfr$ is a binary
tree of arity $4$. The elements $\alpha_{\Tfr}$ belong to the ideal
$\IAs$ of relations of $\KAs$ and to the ideal $\IAAs$ since both
$[\Tfr]_{\IAAs}$ and $[\RComb{3}]_{\IAAs}$ are equal to $[0]_{\IAAs}$
from Lemma~\ref{lem:properties_of_AAs}. Hence, the kernel of $\pi$ is
included in $\IAs\cap\IAAs$, so that, by definition of the upper-bound
$\SupQMag$, $\pi$ induces a surjective operad morphism
\begin{math}
  \overline{\pi}:\As\SupQMag\AAs\to\RC{3}
\end{math}.
We conclude using a dimension argument: by definition, the Hilbert series
of $\RC{3}$ is equal to
\begin{equation}
  \label{equ:Hilbert_series_of_RC3}
  t+t^2+2t^3+\sum_{n\geq 4}t^n
\end{equation}
and from the Grassmann formula analog given in
Theorem~\ref{thm:Grassmann_formula_for_Hilbert_series_of_QMag}, we check
that the Hilbert series of $\As\SupQMag\AAs$ is also equal
to~\eqref{equ:Hilbert_series_of_RC3}. Hence, $\overline{\pi}$ is an
isomorphism, which proves~\eqref{equ:example_upper-bound}.
  \end{proof}
\medbreak
